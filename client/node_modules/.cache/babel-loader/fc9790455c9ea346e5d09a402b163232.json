{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/alizehassan/book-app/client/src/pages/Search.js\";\nimport React, { Component } from \"react\";\nimport { Container } from \"../components/Grid\";\nimport { Row } from \"../components/Grid\";\nimport { Col } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport SearchForm from \"../components/SearchForm\";\nimport API from \"../utils/API\";\nimport BookCard from \"../components/Card\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: \"\",\n      results: [],\n      title: \"\",\n      author: [],\n      description: \"\",\n      image: {},\n      link: \"\"\n    };\n\n    this.searchBooks = query => {\n      API.search(query).then(res => this.setState({\n        results: res.data.items\n      })).then(console.log(this.state.results)).catch(err => console.log(err));\n    };\n\n    this.handleSaveClick = event => {\n      // Log book ID (which is the event)\n      const bookInfo = event;\n      console.log(\"This is book info\", bookInfo);\n      let title = bookInfo.title;\n      let description = bookInfo.description;\n      let image = bookInfo.image;\n      let link = bookInfo.link;\n      this.setState({\n        title: title,\n        description: description,\n        image: image,\n        link: link\n      }); // We want to save this book to the database\n\n      API.saveBook({\n        title: this.state.title,\n        description: this.state.description,\n        image: this.state.image,\n        link: this.state.link\n      }).then(res => console.log(res)).catch(err => console.log(err));\n    };\n\n    this.handleInputChange = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchBooks(this.state.search);\n    };\n  }\n\n  // on page load, \n  componentDidMount() {\n    console.log(\"Mounted\");\n    this.searchBooks(\"\");\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(Jumbotron, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(SearchForm, {\n          search: this.state.search,\n          handleFormSubmit: this.handleFormSubmit,\n          handleInputChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: this.state.results.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n          id: book.id,\n          title: book.volumeInfo.title,\n          description: book.volumeInfo.description,\n          image: book.volumeInfo.imageLinks.thumbnail,\n          link: book.volumeInfo.infoLink,\n          handleSaveClick: this.handleSaveClick\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/alizehassan/book-app/client/src/pages/Search.js"],"names":["React","Component","Container","Row","Col","Jumbotron","SearchForm","API","BookCard","Search","state","search","results","title","author","description","image","link","searchBooks","query","then","res","setState","data","items","console","log","catch","err","handleSaveClick","event","bookInfo","saveBook","handleInputChange","name","target","value","handleFormSubmit","preventDefault","componentDidMount","render","map","book","id","volumeInfo","imageLinks","thumbnail","infoLink"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container } from \"../components/Grid\";\nimport { Row } from \"../components/Grid\"\nimport { Col } from \"../components/Grid\"\nimport Jumbotron from \"../components/Jumbotron\";\nimport SearchForm from \"../components/SearchForm\";\nimport API from \"../utils/API\";\nimport BookCard from \"../components/Card\"\n\nclass Search extends Component {\n\n    state = {\n        search: \"\",\n        results: [],\n        title: \"\",\n        author: [],\n        description: \"\",\n        image: {},\n        link: \"\"\n        };\n\n    // on page load, \n    componentDidMount() {\n        console.log(\"Mounted\");\n        this.searchBooks(\"\");\n    }\n\n    searchBooks = query => {\n        API.search(query)\n            .then(res => this.setState({results:res.data.items})).then(console.log(this.state.results))\n            .catch(err => console.log(err));\n    }\n\n    // on Save click,\n    handleSaveClick = event => {\n    // Log book ID (which is the event)\n        const bookInfo = event;\n        console.log(\"This is book info\", bookInfo);\n        let title = bookInfo.title;\n        let description = bookInfo.description;\n        let image = bookInfo.image;\n        let link = bookInfo.link;\n        this.setState({title: title, description: description, image: image, link: link})\n    // We want to save this book to the database\n      API.saveBook({title: this.state.title, \n    description: this.state.description,\n    image: this.state.image,\n    link: this.state.link})\n        .then(res => console.log(res))\n        .catch(err => console.log(err));\n    }\n\n    handleInputChange = event => {\n        const name = event.target.name;\n        const value = event.target.value;\n        this.setState({\n            [name]:value\n        });\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        this.searchBooks(this.state.search);\n    }\n\n    render() {\n        return (\n            <div className=\"container-fluid\">\n                <Jumbotron />\n                <Row>\n                <SearchForm \n                    search={this.state.search}\n                    handleFormSubmit={this.handleFormSubmit}\n                    handleInputChange={this.handleInputChange}\n                />\n                </Row>\n                <Row >\n                    {this.state.results.map(book => ( \n                        <BookCard\n                            id={book.id} \n                            key={book.id} \n                            title={book.volumeInfo.title} \n                            description={book.volumeInfo.description} \n                            image={book.volumeInfo.imageLinks.thumbnail} \n                            link={book.volumeInfo.infoLink} \n                            handleSaveClick={this.handleSaveClick}\n                        />\n                    ))}\n                </Row>\n            </div>\n        )\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}